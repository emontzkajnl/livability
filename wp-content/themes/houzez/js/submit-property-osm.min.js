jQuery(document).ready(function(e){"use strict";var t,a="",o=0,n="",r="";"undefined"!=typeof houzez_vars&&(o=houzez_vars.geo_country_limit,n=houzez_vars.geocomplete_country),0!=o&&""!=n&&("UAE"==n&&(n="AE"),r=n.toLowerCase());!function(){if(0!==jQuery("#map_canvas").length){var o=e("#map_canvas"),n=o.data("add-lat"),r=o.data("add-long");""!==n&&void 0!==n||(n=25.68654),""!==r&&void 0!==r||(r=-80.431345),n=parseFloat(n),r=parseFloat(r);var d=L.latLng(n,r);(t=L.map("map_canvas",{center:d,zoom:15})).scrollWheelZoom.disable();var s=L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'});t.addLayer(s);(a=L.marker(d,{riseOnHover:!0,draggable:!0}).addTo(t)).on("drag",function(e){document.getElementById("latitude").value=a.getLatLng().lat,document.getElementById("longitude").value=a.getLatLng().lng})}}();var d=function(e,o){var n=L.latLng(e,o);a.setLatLng(n),t.invalidateSize(),t.panTo(new L.LatLng(e,o)),document.getElementById("latitude").value=e,document.getElementById("longitude").value=o};e("#find_coordinates").on("click",function(t){event.preventDefault();var a=e("#geocomplete").val().replace(/\n/g,",").replace(/,,/g,",");if(a){var o={format:"json",q:a,limit:1,addressdetails:"1"};r&&(o.countrycodes=r),e.get("https://nominatim.openstreetmap.org/search",o,function(e){1===e.length&&d(e[0].lat,e[0].lon)},"json")}});jQuery("#geocomplete").autocomplete({source:function(e,t){var a={format:"json",q:e.term,addressdetails:"1",limit:10};r&&(a.countrycodes=r),jQuery.get("https://nominatim.openstreetmap.org/search",a,function(e){e.length?t(e.map(function(e){var t={label:e.display_name,latitude:e.lat,longitude:e.lon,value:e.display_name};return void 0!==e.address&&(t.county=e.address.county),void 0!==e.address&&(t.city=e.address.city),void 0!==e.address&&(t.state=e.address.state),void 0!==e.address&&(t.country=e.address.country),void 0!==e.address&&(t.zip=e.address.postcode),void 0!==e.address&&(t.country_short=e.address.country_code),t})):t([{value:"",label:"there are no results"}])},"json")},select:function(t,a){var o=a.item.latitude,n=a.item.longitude;e("#zip").val(a.item.zip),e("#countyState").val(a.item.county),e("#city").val(a.item.city),e("#country").val(a.item.country),e('input[name="country_short"]').val(a.item.country_short),d(o,n),e("#city, #countyState, #neighborhood, #country").selectpicker("refresh")}})});