jQuery(document).ready(function(e){"use strict";function o(){var o,t,a=houzez_vars.geo_country_limit,n=houzez_vars.geocomplete_country,l=houzez_vars.is_edit_property,i={locality:"long_name",administrative_area_level_1:"long_name",country:"long_name",postal_code:"short_name",neighborhood:"long_name",sublocality_level_1:"long_name",political:"long_name"};if(document.getElementById("geocomplete")){var g,d;g=document.getElementById("geocomplete");var r={bounds:new google.maps.LatLngBounds(new google.maps.LatLng(-90,-180),new google.maps.LatLng(90,180)),types:["geocode","establishment"]},s=e("#map_canvas"),c=s.data("add-lat"),m=s.data("add-long");if(""!==c&&void 0!==c||(c=25.68654),""!==m&&void 0!==m||(m=-80.431345),c=parseFloat(c),m=parseFloat(m),o=new google.maps.Map(document.getElementById("map_canvas"),{center:{lat:c,lng:m},zoom:13,streetViewControl:0,mapTypeId:window.google.maps.MapTypeId.ROADMAP}),l){var u={lat:parseFloat(c),lng:parseFloat(m)};t=new google.maps.Marker({position:u,map:o,draggable:!0}),o.setZoom(16)}else t=new google.maps.Marker({map:o,draggable:!0,position:new google.maps.LatLng(c,m),anchorPoint:new google.maps.Point(0,-29),visible:!0}),o.setZoom(13);try{d=new google.maps.places.Autocomplete(g,r),0!=a&&""!=n&&("UAE"==n&&(n="AE"),d.setComponentRestrictions({country:[n]})),d.bindTo("bounds",o);var p=new google.maps.Geocoder;window.google.maps.event.addListener(t,"drag",function(o){var t=o.latLng,a=t.lat(),n=t.lng();e("#latitude").val(a),e("#longitude").val(n)}),google.maps.event.addListener(d,"place_changed",function(){var a=d.getPlace();!function(o){var t,a,n,l;for(a=0,e("#city").val(""),e("#countyState").val(""),e("#zip").val(""),e("#neighborhood").val(""),e("#country").val(""),e("#city, #countyState, #neighborhood, #country").selectpicker("refresh"),document.getElementById("latitude").value=o.geometry.location.lat(),document.getElementById("longitude").value=o.geometry.location.lng(),t=0;t<o.address_components.length;t++)n=o.address_components[t].types[0],l=o.address_components[t][i[n]],"neighborhood"===n?e("#neighborhood").val(l):"locality"===n?(e("#city").val(l),""!==l&&(a=1)):"country"===n?e("#country").val(l):"postal_code"===n?e("#zip").val(l):"administrative_area_level_1"===n&&e("#countyState").val(l);e("#address-place").html(o.adr_address),0===a&&(g="city",d=o.adr_address,r=e(d).filter("span.locality").html(),e("#"+g).val(r));var g,d,r}(a),t.setVisible(!1),a.geometry?(a.geometry.viewport?o.fitBounds(a.geometry.viewport):(o.setCenter(a.geometry.location),o.setZoom(17)),t.setPosition(a.geometry.location),t.setVisible(!0)):window.alert("No details available for input: '"+a.name+"'")}),jQuery("#find_coordinates").on("click",function(e){e.preventDefault();var a=document.getElementById("geocomplete").value+","+jQuery("#city").val();if(document.getElementById("countyState")){var n=document.getElementById("countyState").value;n&&(a=a+","+n)}if(document.getElementById("country")){var l=document.getElementById("country").value;l&&(a=a+","+l)}p.geocode({address:a},function(e,a){a==google.maps.GeocoderStatus.OK&&(t.setVisible(!1),o.setCenter(e[0].geometry.location),t.setPosition(e[0].geometry.location),t.setVisible(!0),document.getElementById("latitude").value=e[0].geometry.location.lat(),document.getElementById("longitude").value=e[0].geometry.location.lng())})})}catch(e){}}}!function e(){"undefined"!=typeof google&&void 0!==google.maps&&void 0!==google.maps.Map?void 0!==google.maps.places&&o():setTimeout(e,100)}()});